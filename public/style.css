/* Ultra Chat-inspired Groic theme â€” Electric Blue accent (#00AEEF) */
:root{
  --bg-1: #070716;
  --bg-2: #0f1220;
  --glass: rgba(10,15,35,0.45);
  --accent: #00AEEF;
  --muted: #a8dff0;
  --card-radius: 14px;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Poppins, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue";background:linear-gradient(135deg,var(--bg-1) 0%, var(--bg-2) 100%);color:#eef9ff}
.page{min-height:100vh;padding:36px;display:flex;align-items:center;justify-content:center;gap:20px}

/* Glass card */
.card{background:var(--glass);backdrop-filter:blur(10px);border:1px solid rgba(0,170,238,0.07);padding:28px;border-radius:var(--card-radius);box-shadow:0 6px 30px rgba(0,170,238,0.03)}
.nickname-card{width:420px;text-align:center}
.logo{font-family:Orbitron, sans-serif;font-size:28px;color:#fff;text-shadow:0 0 12px rgba(0,170,238,0.18)}
.muted{color:#bcdfe9;opacity:0.85}
input{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:#fff;outline:none;margin-top:8px}

/* Buttons */
.btn{padding:10px 12px;border-radius:10px;border:none;background:rgba(255,255,255,0.04);color:#fff;cursor:pointer;font-weight:600;box-shadow:0 4px 20px rgba(0,0,0,0.2)}
.btn:hover{transform:translateY(-2px)}
.btn.primary{background:linear-gradient(90deg,var(--accent),#00cfff);color:#012;box-shadow:0 10px 40px rgba(0,170,238,0.14)}
.btn.secondary{background:transparent;border:1px solid rgba(0,170,238,0.18)}
.btn.small{padding:6px 8px;font-size:0.9rem;border-radius:8px}

/* Layout for room */
.hidden{display:none}
.room-root{width:100%;max-width:1200px}
.topbar{display:flex;justify-content:space-between;align-items:center;gap:16px;margin-bottom:16px}
.topbar .controls{display:flex;gap:8px;align-items:center}

/* Center layout */
.center-layout{display:grid;grid-template-columns:1fr 320px;gap:18px;align-items:start}
.player-pane{padding:16px}
.player-wrapper{height:360px;border-radius:12px;overflow:hidden;background:#000;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
.player-iframe{width:100%;height:100%}

/* Player controls */
.player-controls{margin-top:12px;display:flex;flex-direction:column;gap:10px}
.search-row{display:flex;gap:8px}
.action-row{display:flex;gap:8px;align-items:center}

/* results */
.search-results{margin-top:12px;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px}
.video-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:8px;border-radius:10px;border:1px solid rgba(0,170,238,0.05)}
.video-card img{width:100%;height:110px;object-fit:cover;border-radius:8px}
.video-card p{margin:8px 0;font-size:0.9rem;color:#e6fbff}

/* side pane */
.side-pane{display:flex;flex-direction:column;gap:12px}
.panel{padding:12px;border-radius:10px}
.user-list{list-style:none;padding:0;margin:0}
.user-list li{padding:6px 0;border-bottom:1px dashed rgba(255,255,255,0.02)}

/* chat */
.chat-messages{max-height:220px;overflow:auto;padding:6px}
.chat-input{display:flex;gap:8px;margin-top:8px}
.tiny{font-size:0.85rem;color:rgba(255,255,255,0.7)}

/* small touches */
.now{font-size:0.8rem;color:var(--muted);opacity:0.9}
.song{font-weight:700;color:#e8fbff;margin-top:6px}
.glass{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);box-shadow:0 8px 30px rgba(0,170,238,0.06)}


/* ======== MOBILE UI RESTRUCTURE ======== */
.mobile-topbar {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 12px;
  margin-bottom: 10px;
  border-radius: 12px;
}

.room-id-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.room-id-row h2 {
  font-size: 1.1rem;
  margin: 0;
}

.room-buttons {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.tabs {
  display: flex;
  justify-content: space-around;
  margin-top: 12px;
  border-radius: 12px;
  overflow: hidden;
}

.tab-btn {
  flex: 1;
  padding: 10px;
  background: rgba(255,255,255,0.05);
  color: #fff;
  border: none;
  cursor: pointer;
  font-weight: bold;
  transition: background 0.2s;
}

.tab-btn.active {
  background: linear-gradient(90deg, var(--accent-a), var(--accent-b));
  color: #000;
}

#tab-content {
  margin-top: 10px;
}

.tab-panel {
  display: none;
}

.tab-panel.active {
  display: block;
}

/* Optimize for mobile width */
@media (max-width: 900px) {
  .center-layout,
  .side-pane {
    display: none;
  }

  .player-pane {
    margin-top: 0;
  }

  .search-results {
    grid-template-columns: 1fr 1fr;
  }
}

/* ================== MOBILE-VS-DESKTOP LAYOUT RULES ================== */

/* Default: show desktop topbar & sidebar, hide mobile topbar/tabs */
#mobile-topbar, #mobile-tabs-wrapper { display: none; }

/* Make sure desktop topbar & side-pane exist and look like before */
#desktop-topbar { display:flex; }

/* Mobile-specific styles */
@media (max-width: 900px) {
  /* hide desktop-only elements */
  #desktop-topbar { display: none; }
  #desktop-side { display: none; }
  .center-layout { grid-template-columns: 1fr !important; gap: 12px; }

  /* show mobile topbar and tabs */
  #mobile-topbar { display: block; margin-bottom: 10px; }
  #mobile-tabs-wrapper { display: block; width:100%; margin-top:12px; }

  /* mobile-topbar tweaks */
  .mobile-topbar { padding: 12px; border-radius: 12px; }
  .room-id-row { display:flex; justify-content:space-between; align-items:center; gap:8px; }
  .room-buttons { display:flex; gap:8px; margin-top:8px; }

  /* make player full width and larger on mobile */
  .player-wrapper::before { padding-top: 56.25%; } /* keep 16:9 */
  .player-pane { padding:10px; }

  /* mobile tabs */
  .tabs { display:flex; gap:6px; border-radius:10px; overflow:hidden; }
  .tab-btn { flex:1; padding:10px; background:rgba(255,255,255,0.02); color:#fff; border:none; font-weight:700; }
  .tab-btn.active { background:linear-gradient(90deg,var(--accent-a),var(--accent-b)); color:#000; }

  /* tab content */
  .mobile-tab-content { margin-top:10px; }
  .tab-panel { display:none; }
  .tab-panel.active { display:block; }

  /* mobile search results full width and one column */
  #results-mobile { margin-top:10px; }
  .search-results { grid-template-columns: repeat(1, 1fr); gap:8px; }

  /* tighten chat for mobile */
  .chat-messages { max-height: 300px; overflow:auto; padding:6px; }
  .chat-input { display:flex; gap:6px; margin-top:8px; }
}

/* ======== ABSOLUTE FIX: force player visible on mobile ======== */
@media (max-width: 900px) {
  /* Show player-pane and everything inside */
  .player-pane,
  .player-wrapper,
  .player-iframe {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  .player-pane {
    position: relative !important;
    width: 100% !important;
    margin: 10px auto;
    padding: 10px;
    background: var(--glass);
    border-radius: 12px;
    overflow: visible;
    min-height: 220px; /* ensures space */
  }

  .player-wrapper {
    position: relative !important;
    width: 100% !important;
    height: auto !important;
    border-radius: 12px;
    background: #000;
    overflow: hidden;
  }

  .player-wrapper::before {
    content: "";
    display: block;
    padding-top: 56.25%; /* 16:9 aspect */
  }

  .player-iframe {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    z-index: 5;
  }

  /* fix search bar & buttons visibility */
  .player-controls {
    display: block !important;
    margin-top: 10px;
  }

  .search-row,
  .action-row {
    display: flex !important;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
  }

  .search-row input {
    flex: 1;
    min-width: 140px;
  }
}
/* === FORCE SHOW PLAYER ON MOBILE === */
@media (max-width: 900px) {
  /* show the player area that got hidden */
  .center-layout {
    display: block !important;
  }

  .player-pane {
    display: block !important;
    width: 100% !important;
    margin: 12px 0 !important;
    background: var(--glass);
    border-radius: 12px;
    padding: 12px;
  }

  .player-wrapper {
    display: block !important;
    position: relative !important;
    width: 100%;
    background: #000;
    border-radius: 12px;
    overflow: hidden;
  }

  .player-wrapper::before {
    content: "";
    display: block;
    padding-top: 56.25%; /* 16:9 aspect ratio */
  }

  .player-iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
}
/* === HIDE DESKTOP PLAYER SEARCH ON MOBILE === */
@media (max-width: 900px) {
  /* Hide search input and button under the player */
  .player-controls .search-row {
    display: none !important;
  }
}


/* === MOBILE POLISH / CLEAN FINAL LOOK === */
@media (max-width: 900px) {

  /* Compact top section */
  #mobile-topbar {
    display: flex;
    flex-direction: column;
    gap: 6px;
    padding: 12px 14px;
    margin: 0 auto 10px auto;
    border-radius: 14px;
    background: var(--glass);
    backdrop-filter: blur(12px) saturate(130%);
    width: 100%;
    box-shadow: 0 0 20px rgba(0,0,0,0.4);
  }

  #mobile-topbar .room-id-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  #mobile-topbar .room-id-row h2 {
    font-size: 1rem;
    font-weight: 600;
    margin: 0;
    color: #fff;
  }

  #mobile-topbar .room-buttons {
    display: flex;
    justify-content: space-between;
    gap: 8px;
    flex-wrap: nowrap;
  }

  #mobile-topbar .room-buttons input {
    flex: 1;
    min-width: 120px;
  }

  /* Player should dominate width */
  .player-pane {
    margin: 8px 0;
    padding: 8px;
    background: var(--glass);
    border-radius: 14px;
  }

  .player-wrapper {
    width: 100%;
    border-radius: 12px;
    overflow: hidden;
    background: #000;
  }

  .player-wrapper::before {
    content: "";
    display: block;
    padding-top: 56.25%;
  }

  .player-iframe {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  }

  /* Center the "Now Playing" text */
  .player-top {
    text-align: center;
    margin-bottom: 6px;
  }

  .now {
    font-size: 0.85rem;
    color: var(--muted);
  }

  #now-playing {
    font-size: 0.95rem;
    color: #fff;
    font-weight: 600;
  }

  /* Tabs look tighter */
  .tabs {
    margin-top: 10px;
    border-radius: 12px;
    overflow: hidden;
  }

  .tab-btn {
    padding: 10px 0;
    font-size: 0.9rem;
  }

  /* Chat / Search panels spacing */
  .mobile-tab-content {
    margin-top: 10px;
    border-radius: 12px;
    background: var(--glass);
    padding: 10px;
  }

  .chat-input,
  .search-controls {
    margin-top: 8px;
  }

  .btn.small {
    padding: 8px 10px;
  }
}
