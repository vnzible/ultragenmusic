<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Annusic â€” Listen together</title>

  <script src="/config.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="page">
    <!-- Nickname Screen -->
    <div class="card nickname-card" id="nickname-screen">
      <h1 class="logo">Annusic</h1>
      <p class="muted">No login â€” enter your nickname to begin</p>
      <input id="nickname" placeholder="Your nickname (e.g. AK Verma)" />
      <button id="start-btn" class="btn primary">Start â†’</button>
    </div>

    <!-- Room Screen (shared DOM for desktop & mobile) -->
    <div class="room-root hidden" id="room-screen">

      <!-- MOBILE TOPBAR (only visible on small screens) -->
      <header class="mobile-topbar glass" id="mobile-topbar">
        <div class="room-id-row">
          <h2 id="room-id-display-mobile">Room: â€”</h2>
          <button id="copy-room" class="btn small" title="Copy room id">ðŸ“‹</button>
        </div>
        <div class="room-buttons">
          <input id="join-input-mobile" placeholder="Join room ID" />
          <button id="join-room-mobile" class="btn small">Join</button>
          <button id="create-room-mobile" class="btn small secondary">Create</button>
        </div>
      </header>

      <!-- TOP BAR (desktop; kept as earlier) -->
      <header class="topbar" id="desktop-topbar">
        <div class="left">
          <h2 id="room-id-display">Room: â€”</h2>
          <div class="tiny muted" id="room-sub">Share this ID to invite</div>
        </div>

        <div class="controls">
          <input id="join-input" placeholder="Join room (paste ID)" />
          <button id="join-room" class="btn small">Join</button>
          <button id="create-room" class="btn small secondary">Create Room</button>
        </div>
      </header>

      <main class="center-layout">
        <section class="player-pane glass">
          <div class="player-top">
            <div class="now">Now playing</div>
            <div id="now-playing" class="song muted">â€”</div>
          </div>

          <div class="player-wrapper">
            <div class="player-iframe" id="youtube-player"></div>
          </div>

          <div class="player-controls">
            <div class="search-row">
              <input id="search-input" placeholder="Search YouTube (song or artist)" />
              <button id="search-btn" class="btn small">Search</button>
            </div>

            <div class="action-row">
              <button id="load-btn" class="btn">Load</button>
              <button id="play-btn" class="btn primary">Play</button>
              <button id="pause-btn" class="btn">Pause</button>
              <input id="seek" type="number" placeholder="seek s" style="width:90px" />
              <button id="seek-btn" class="btn small">Seek</button>
            </div>
          </div>

          <div id="results" class="search-results"></div>
        </section>

        <!-- DESKTOP SIDEBAR (visible on wide screens) -->
        <aside class="side-pane" id="desktop-side">
          <div class="panel glass members">
            <h4>Members</h4>
            <ul id="user-list" class="user-list"></ul>
          </div>

          <div class="panel glass chat">
            <h4>Room Chat</h4>
            <div id="chat-messages" class="chat-messages"></div>
            <div class="chat-input">
              <input id="chat-box" placeholder="Say something..." />
              <button id="send-chat" class="btn small primary">Send</button>
            </div>
          </div>
        </aside>
      </main>

      <!-- MOBILE TABS (only visible on small screens) -->
      <div class="mobile-tabs-wrapper" id="mobile-tabs-wrapper">
        <div class="tabs glass" id="mobile-tabs">
          <button class="tab-btn active" data-tab="search">Search</button>
          <button class="tab-btn" data-tab="chat">Chat</button>
          <button class="tab-btn" data-tab="members">Members</button>
        </div>

        <div id="tab-content" class="mobile-tab-content">
          <div class="tab-panel active" id="tab-search">
            <div class="search-controls">
              <input id="search-input-mobile" placeholder="Search YouTube..." />
              <button id="search-btn-mobile" class="btn small primary">Search</button>
            </div>
            <div id="results-mobile" class="search-results"></div>
          </div>

          <div class="tab-panel" id="tab-chat">
            <div id="chat-messages-mobile" class="chat-messages"></div>
            <div class="chat-input">
              <input id="chat-box-mobile" placeholder="Type message..." />
              <button id="send-chat-mobile" class="btn small primary">Send</button>
            </div>
          </div>

          <div class="tab-panel" id="tab-members">
            <ul id="user-list-mobile" class="user-list"></ul>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="script.js"></script>
</body>
</html>
